extends base

block content
  main.main
    .ticket-form
        h1.heading-secondary.ma-bt-lg Vé của tôi
        br
        //- .grid-container-1row-2col.margin_top_30
        //-     .grid-item
        h4.heading-first= `${tour.name}`
        h4.card__sub-heading.orange_color= `${tour.duration} Ngày ${tour.duration - 1} Đêm`
        - const date = tour.startDate.toLocaleString('vi', {day: 'numeric', month: 'long', year: 'numeric'})
        h4.card__sub-heading.orange_color= `Khởi hành: ${date}`
        - if(tour.priceDiscount > 0)
          h5.heading-third.black_color.margin_top_5= `Giá tour:`
          | &nbsp &nbsp
          del.h5.heading-secondary.black_color.margin_top_5= `${tour.price.toLocaleString('vi-VN')} ₫` 
          span.black_color= ` (Giảm ${tour.priceDiscount}%)` 
          br
          h5.heading-secondary.margin_top_5.black_color.ml-20= `${(tour.price * (1 - tour.priceDiscount / 100)).toLocaleString('vi-VN')} ₫`
          br
          h5.heading-third.black_color.margin_top_5= `Số lượng:`
          | &nbsp &nbsp
          h5.heading-secondary.black_color.margin_top_5= `${booking.quantity}` 
          br
          h5.heading-third.black_color.margin_top_5= `Tổng thanh toán:`
          | &nbsp &nbsp
          h5.heading-secondary.red_color.margin_top_5= `${((tour.price * (1 - tour.priceDiscount / 100)) * booking.quantity).toLocaleString('vi-VN')} ₫` 
        - else 
          h5.heading-third.black_color.margin_top_5= `Giá tour:`
          | &nbsp &nbsp
          h5.heading-secondary.black_color.margin_top_5= `${tour.price.toLocaleString('vi-VN')} ₫` 
          br
          h5.heading-third.black_color.margin_top_5= `Số lượng:`
          | &nbsp &nbsp
          h5.heading-secondary.black_color.margin_top_5= `${booking.quantity}`
          br
          h5.heading-third.black_color.margin_top_5= `Tổng thanh toán:`
          | &nbsp &nbsp
          h5.heading-secondary.red_color.margin_top_5= `${(tour.price * booking.quantity).toLocaleString('vi-VN')} ₫` 
          //- h5.heading-secondary.red_color.margin_top_5= `${tour.price.toLocaleString('vi-VN')} ₫`
        //- h5.heading-secondary.black_color.margin_top_5= `Price: ${tour.price.toLocaleString('vi-VN')} ₫ x ${booking.quantity} = ${(tour.price * booking.quantity).toLocaleString('vi-VN')} ₫` 
        br
        br
        br
        //- img.mycard__picture-img_ticket(src=qrCodeDataURL)
        img(src=`https://api.qrserver.com/v1/create-qr-code/?data=${qrCode}&amp;size=80x80` alt='' title='')
        br
        br
        br
        h4.card__sub-heading.black_color= `*Quét mã QR tại quầy để hoàn tất thủ tục kiểm tra vé.`
        - const tourBookingDate = booking.createdAt.toLocaleString('vi', {day: 'numeric', month: 'long', year: 'numeric'})
        h3.black_color= `Ngày đặt tour: ${tourBookingDate}`

  